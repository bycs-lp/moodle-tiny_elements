define("tiny_elements/category_form_helper",["exports","core/ajax","core/notification"],(function(_exports,_ajax,_notification){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}
/**
   * Helper for autocomplete form element to select only variants that belong to the
   * selected category.
   *
   * @module     tiny_elements/category_form_helper
   * @copyright  2025 ISB Bayern
   * @author     Stefan Hanauska <stefan.hanauska@csg-in.de>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=void 0,_ajax=_interopRequireDefault(_ajax),_notification=_interopRequireDefault(_notification);var _default={processResults:function(selector,results){var options=[];return results.forEach((data=>{options.push({value:data.name,label:data.displayname})})),options},transport:function(selector,query,callback){var _el$dataset$contextid,el=document.querySelector(selector);if(!el)return;const contextid=null!==(_el$dataset$contextid=el.dataset.contextid)&&void 0!==_el$dataset$contextid?_el$dataset$contextid:1,categoryname=el.closest("form").querySelector('select[name="categoryname"]').value;let methodname="tiny_elements_get_variants";"flavors[]"==el.name&&(methodname="tiny_elements_get_flavors"),_ajax.default.call([{methodname:methodname,args:{contextid:contextid,categoryname:categoryname,query:query}}])[0].then(callback).catch(_notification.default.exception)}};return _exports.default=_default,_exports.default}));

//# sourceMappingURL=category_form_helper.min.js.map